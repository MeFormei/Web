<!DOCTYPE html>
<html>
<head>
  <title>Me Formei</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="vendor/layout.css">
  <link rel="stylesheet" href="vendor/style.css">
  <link rel="stylesheet" href="vendor/jquery.fullPage.css">
  <link rel="stylesheet" href="vendor/owl.carousel.min.css"/>
  <link rel="stylesheet" href="vendor/owl.theme.default.min.css"/>  
  <link rel="stylesheet" href="styles/meformei.css"/>  
  <link rel="shortcut icon" type="image/png" href="images/cap.png"/>
</head>

<body>
  <div id="fullpage">
  
    <div id="turma" class="section principal">
      <div id="navegacao">  <!-- gerado pelo navegacao-molde --> </div>
      <script id="navegacao-molde" type="text/x-handlebars-template">
        <div class="slide-turmas owl-carousel owl-theme">
          {{#each turmas}}
            <img src="{{foto}}" class="item" style="height:150px;"/>
          {{/each}}
        </div>
      </script>
    </div>
    
    <div id="turma-detalhes" class="section">
      <h1> Detalhes turma </h1>
    </div>

    <div id="homenageados" class="section">
      <h1> Detalhes homenageados </h1>
    </div>


  </div>
  
  <div class="cameraview-wrapper">
    <canvas id="cameraview" width="352" height="240"></canvas>
  </div>

  <!-- Bibliotecas e Dependencias -->
  <script type="text/javascript" src="vendor/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="vendor/jquery.easings.min.js"></script>
  <script type="text/javascript" src="vendor/jquery.fullPage.js"></script>
  <script type="text/javascript" src="vendor/scrolloverflow.min.js"></script>
  <script type="text/javascript" src="vendor/owl.carousel.min.js"></script>
  <script type="text/javascript" src="vendor/mqtt.min.js"></script>
  <script type="text/javascript" src="vendor/handlebars.min-latest.js"></script>

  <!-- MeFormei Camera -->
  <script src="scripts/meformei.camera.tracker.js"></script>

  <!-- MeFormei Web -->
  <script src="scripts/meformei.web.slider.js"></script>
  <script src="scripts/meformei.web.fullpage.js"></script>
  <script src="scripts/meformei.web.camera.view.js"></script>
  <script src="scripts/meformei.web.camera.tracker.js"></script>

  <!-- Inicialização da Página -->
  <script>

    var online = true;

    if(online){
      $.getJSON("http://meformei.ddns.net/turma")
      .then(turmas => slider.init(turmas))
      .done(() => {
        cameraview.init({canvasId: 'cameraview', wrapperId:'cameraview-wrapper'});
        cameratracker.init({ip: "localhost", port: 9001});
      })
      .fail(() => alert("Falha ao obter dados do servidor."));
      
    } else {
      var mockTurmas = [{id: 1, nome: "Turma NullPointer", foto: "assets/t01.jpg" },
       {id: 2, nome: "Turma GarbageCollector", foto: "assets/t02.jpg"},
       {id: 3, nome: "Turma OutOfBound", foto: "assets/t03.jpg"},
       {id: 4, nome: "Turma James Bond", foto: "assets/t04.jpg"},
       {id: 5, nome: "Turma Aligator", foto: "assets/t05.jpg"},
       {id: 6, nome: "Turma Head And Shoulders", foto: "assets/t03.jpg"}];

      slider.init(mockTurmas);
      cameraview.init({canvasId: 'cameraview', wrapperId:'cameraview-wrapper'});
      cameratracker.init({ip: "localhost", port: 9001});
    }
  </script>

</body>
</html>
